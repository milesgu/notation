一般有两种方法，一种是#ifndef，另一种是#pragma once

### #ifndef
\#ifndef这种是最早期使用的方法，是基于语言的**宏定义名字不能冲突**的前提下的。这种方法不仅能保证同一个头文件不会被包含两次，也可以**保证内容完全相同的两个文件也只能被包含一次。**（可以是两个内容完全相同的物理文件，对比#pragma的弊端来理解）

\#ifndef中的宏名与其他定义的宏发生冲突，例如
<pre>
//file1.h
#define BOOK_H

//book.h
#ifndef BOOK_H
#define BOOK_H
//  program codes
#endif

//main.cpp
#include "file1.h"
#include "book.h"
</pre>
这时book.h的内容将包含失败


### #pragma once
\#pragma once这种方式，是微软编译器独有的，也是后来才有的，所以知道的人并不是很多，用的人也不是很多，因为他不支持跨平台。如果你想写跨平台的代码，最好使用上一种。这是一种由编译器提供支持的方式，防止同一文件的二次编译，这里的同一文件指的是物理文件。
假如你的某一个头文件有多份拷贝，那么这些文件虽然在逻辑上都是一样的，但是在物理上他们却是不同的，所以当你把这些文件包含的时候，就会发现真的都包含进来了，然后就是编译错误了。

### 两者对比
除了上述内容，两者的差别还体现在处理方式上，当物理上的同一文件被嵌套包含的时候，使用第一种方法预处理会每一次打开该文件做判断的，但是第二种方法则不会，所以在此#pragma once 会更快些。但是如果是物理上的不同文件，使用#pragma once同样也需要再打开一次。